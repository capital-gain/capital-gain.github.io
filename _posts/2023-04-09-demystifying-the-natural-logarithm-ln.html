---
layout: post
status: publish
published: true
title: Демистификация натурального логарифма (ln)
excerpt: После изучения экспоненты наша следующая цель - натуральный логарифм.
wordpress_id: 14651
date: '2023-04-09 06:40:01 +0600'
categories:
  - Интересное в сети
tags:
  - Сложный процент
  - Инвестирование
comments: []
---

<p>
  <em
    >Это мой перевод статьи
    <a
      rel="noreferrer noopener"
      href="https://betterexplained.com/articles/demystifying-the-natural-logarithm-ln/"
      target="_blank"
      >Demystifying the Natural Logarithm (ln)</a
    >
    из блога BetterExplained. Она раскрывает смысл натуральных логарифмов и их
    связь с числом e и экспонентой. Это продолжение статьи об экспоненциальных
    функциях и числе e, перевод которой можно прочитать
    <a
      rel="noreferrer noopener"
      href="{% post_url 2021-07-10-exponentials %}"
      data-type="URL"
      data-id="https://capital-gain.ru/posts/exponentials/"
      target="_blank"
      >здесь</a
    >.</em
  >
</p>

<p>
  Учитывая то, как натуральный логарифм описывается в учебниках по математике,
  «натурального» в нем мало: там он определяется как обратная функция и без того
  странной экспоненты.
</p>

<p>
  Но есть свежее, интуитивное объяснение:
  <strong
    >натуральный логарифм выражает количество времени, необходимое для
    достижения определенного уровня роста</strong
  >.
</p>

<figure>
  <a
    href="/assets/images/logs-time-growth.webp"
    target="_blank"
    rel="noreferrer noopener"
    ><img
      src="/assets/images/logs-time-growth.webp"
      alt=""
      width="654"
      height="110"
  /></a>
  <figcaption>
    В условиях непрерывного экспоненциального роста (постоянного начисления
    сложных процентов) по ставке 100%:<br />ln(x) (натуральный логарифм) —
    количество времени, нужное для достижения величины x<br />e<sup>x</sup>
    (экспонента) — количество роста после x времени
  </figcaption>
</figure>

<p>
  Предположим, у вас есть инвестиции в мармеладных мишек (у кого их нет?) с
  процентной ставкой 100%, и процесс роста у них непрерывный
  <em
    >[имеется в виду, что «капитализация процентов» происходит непрерывно, а не
    раз в месяц или год — прим. перев.]</em
  >. Если вы хотите 10-кратного роста, предполагая непрерывное начисление
  сложных процентов, подождать придется лишь ln(10) или 2,302 года. Непонятно,
  почему для десятикратного роста требуется всего несколько лет и почему ряд
  здесь не 1, 2, 4, 8?
  <a
    href="{% post_url 2021-07-10-exponentials %}"
    data-type="post"
    data-id="6449"
    >Прочитайте статью о числе e</a
  >.
</p>

<p><em>e</em> и натуральный логарифм — это близнецы:</p>

<ul>
  <li>
    <em>e</em><sup>x</sup> (экспонента) выражает значение, которое мы получим
    после старта с 1.0 и непрерывного роста в течение <em>x</em> единиц времени.
  </li>

  <li>
    ln(x) (натуральный логарифм) — это <strong>время</strong>, за которое
    достигается значение <em>x</em>, при условии, что мы непрерывно росли с 1.0.
  </li>
</ul>

<p>
  Неплохо, верно? Пока математики пытаются дать вам длинное техническое
  объяснение, давайте погрузимся в интуитивное.
</p>

<h2>Число <em>e</em> и рост</h2>

<p>
  Число <em>e</em> выражает собой постоянный рост. Как мы видели в прошлый раз,
  e<sup>x</sup> позволяет нам объединить ставку и время: 3 года при 100%-м росте
  — это то же самое, что 1 год при 300%-м росте при непрерывном начислении
  сложных процентов.
</p>

<p>
  Мы можем взять любую комбинацию ставки и времени (50% на 4 года) и
  преобразовать ставку в 100% для удобства (что дает нам 100% на 2 года).
  Приводя ставку к 100%, мы можем думать только о компоненте времени:
</p>

<p>
  e<sup>x</sup> = e<sup>ставка<strong>∙</strong>время</sup> = e<sup
    >1.0<strong>∙</strong>время</sup
  >
  = e<sup>время</sup>
</p>

<p>Интуитивно, e<sup>x</sup> значит:</p>

<ul>
  <li>Сколько роста я получу через x единиц времени (если ставка 100%).</li>

  <li>
    Например: через 3 единицы времени у меня будет e<sup>3</sup> = в 20,08 раз
    больше чего-то.
  </li>
</ul>

<p>
  e<sup>x</sup> — это коэффициент масштабирования, показывающий, какой рост
  <em>[в разах — прим. перев.]</em> мы получим через <em>x</em> единиц времени.
</p>

<h2>Натуральный логарифм и время</h2>

<p>
  Натуральный логарифм — это функция, обратная e<sup>x</sup>, причудливый термин
  для противоположности. Кстати говоря, аббревиатура <em>ln</em> происходит от
  латинского <em>logarithmus naturali</em>.
</p>

<p>Что значит обратная или противоположная?</p>

<ul>
  <li>
    в e<sup>x</sup> мы подставляем <strong>время</strong>
    <em>[вместо x — прим. перев.]</em> и получаем рост.
  </li>

  <li>
    в ln(x) мы подставляем <strong>рост</strong> и получаем
    <strong>время, требующееся для его достижения</strong>.
  </li>
</ul>

<p>Например:</p>

<ul>
  <li>
    e<sup>3</sup> = 20,08. После 3 единиц времени получаем в 20,08 раз больше
    того, с чего начали.
  </li>

  <li>
    ln(20,08) ≈ 3. Если мы хотим вырасти в 20,08 раз, надо подождать 3 единицы
    времени (предполагая, что ставка непрерывного роста у нас 100%).
  </li>
</ul>

<p>
  Вы еще со мной? Натуральный логарифм дает нам время, необходимое для
  достижения желаемого роста.
</p>

<h2>Арифметика логарифмов не нормальная</h2>

<p>
  Вы уже изучали логарифмы раньше, и это странные звери. Как умножение
  превращается в сложение, а деление — в вычитание? Давайте посмотрим.
</p>

<p>
  Чему равен ln(1)? Интуитивно, вопрос здесь такой: Сколько мне подождать, чтобы
  получить в 1 раз больше текущего значения?
</p>

<p>
  Нисколько, нуль. Вы <strong>уже</strong> на уровне 1x текущего значения! Ни
  сколько времени не требуется, чтобы из 1 дорасти до 1.
</p>

<ul>
  <li>ln(1) = 0</li>
</ul>

<p>
  Хорошо, что насчет дробных значений? Сколько займет
  <em>[отрицательный — прим. перев.]</em> рост до 1/2 от текущего значения?
  Предполагая непрерывный рост по ставке в 100%, мы знаем, что ln(2) — это
  время, требующееся для удвоения значения. Если мы возьмем обратную величину
  роста (т. е. обратную степень
  <em>[2^(-1) или единицу поделим на 2: 1 / 2 — прим. перев.]</em>), у нас
  останется половина:
</p>

<ul>
  <li>ln(.5) = -ln(2) = -.693</li>
</ul>

<p>
  Логично? Если мы вернемся назад на 0,693 единицы (пусть будут отрицательные
  секунды), у нас будет половина текущего количества. В общем случае вы можете
  перевернуть дробь и взять отрицательное значение: ln(1/3) = -ln(3/1) = -ln(3)
  = -1,09. В этом примере, если мы вернемся на 1,09 единиц времени назад, у нас
  будет треть от того, что есть сейчас.
</p>

<p>
  Хорошо, а как насчет натурального логарифма отрицательного числа? Сколько
  времени требуется, чтобы «вырастить» колонию бактерий с 1 до -3?
</p>

<p>
  Это невозможно! Не может быть «отрицательного» количества бактерий, не так ли?
  В лучшем случае (эм… как минимум) бактерий может быть ноль, но нет никакого
  способа получить отрицательное количество маленьких тварей. Отрицательные
  бактерии не имеют никакого смысла.
</p>

<ul>
  <li>ln(отрицательного числа) = не определен</li>
</ul>

<p>
  Неопределенность значит, что нет такой величины времени, которую вы могли бы
  подождать до отрицательного роста, выраженного в разах
  <em
    >[в финансах цена актива в худшем случае тоже может упасть в 0 раз, т. е. на
    -100% или до нуля, но не меньше,
    <a
      href="https://www.forbes.ru/newsroom/biznes/398635-cena-na-neft-marki-wti-opustilas-do-otricatelnyh-znacheniy"
      data-type="URL"
      data-id="https://www.forbes.ru/newsroom/biznes/398635-cena-na-neft-marki-wti-opustilas-do-otricatelnyh-znacheniy"
      target="_blank"
      rel="noreferrer noopener"
      >не считая ПФИ</a
    >
    — прим. перев.]</em
  >. (Если использовать
  <a
    href="https://betterexplained.com/articles/intuitive-understanding-of-eulers-formula/"
    data-type="URL"
    data-id="https://betterexplained.com/articles/intuitive-understanding-of-eulers-formula/"
    >воображаемые экспоненты</a
  >, решение есть. Но сегодня давайте останемся в реальности.)
</p>

<h2>Умножение логарифмов — это очень весело</h2>

<p>
  Сколько времени потребуется, чтобы увеличить текущее значение в 9 раз?
  Конечно, мы могли бы посчитать ln(9). Но это слишком просто, давайте
  отличимся.
</p>

<p>
  Можно считать, что 9-кратный рост — это утроение (за ln(3) единицы времени) и
  затем еще одно утроение (за еще ln(3) единицы времени):
</p>

<ul>
  <li>
    Время для 9-кратного роста = ln(9) = Время утроения и еще одного утроения =
    ln(3) + ln(3)
  </li>
</ul>

<p>
  Интересно. Любое число роста можно разложить как хочешь, например, рост в 20
  раз — это 2-кратный рост, за которым следует 10-кратный рост. Или 4-кратный
  рост, за которым следует 5-кратный рост. Или 3-кратный рост, за которым
  следует 6,666-кратный рост. Видите правило?
</p>

<ul>
  <li>ln(a ∙ b) = ln(a) + ln(b)</li>
</ul>

<p>
  Логарифм <em>a</em> умножить на <em>b</em> = log(a) + log(b). Это правило
  обретает смысл, если думать в терминах <em>времени роста</em>.
</p>

<p>
  Если мы хотим вырасти в 30 раз, мы можем подождать ln(30) сразу или подождать
  ln(3) до утроения, а затем еще ln(10) для роста в 10 раз. Чистый эффект тот
  же, поэтому и чистое время должно быть таким же (и это так).
</p>

<p>
  Что насчет деления? ln(5/3) означает: сколько времени потребуется, чтобы
  вырасти в 5 раз, а затем вернуться к 1/3 от этого роста?
</p>

<p>Рост в 5 раз займет ln(5). Рост на 1/3 = -ln(3) единицы времени. Поэтому:</p>

<ul>
  <li>ln(5/3) = ln(5) — ln(3)</li>
</ul>

<p>
  Рост в 5 раз и «перемотка назад во времени» до момента, пока у нас не
  останется треть от этого значения, в итоге дает рост 5/3. Общее правило такое:
</p>

<ul>
  <li>ln(a/b) = ln(a) — ln(b)</li>
</ul>

<p>
  Надеюсь, что странная математика логарифмов начинает обретать смысл: умножение
  роста становится сложением времени, деление роста становится вычитанием
  времени. Не заучивайте правила, <strong>понимайте их</strong>.
</p>

<h2>Использование натуральных логарифмов с любой ставкой</h2>

<p>
  «Конечно, — скажите вы, — эти логарифмы работают для ставки в 100%, но что
  насчет 5%, которые я обычно получаю?»
</p>

<p>
  Не проблема. «Время», которое мы получаем из ln(), на самом деле представляет
  собой комбинацию ставки и времени, такую же, что и в «<em>x</em>» из уравнения
  e<sup>x</sup>. 100% предполагались для простоты, но можно использовать и
  другие числа.
</p>

<p>
  Предположим, нам нужен 30-кратный рост: подставляем в ln(x) и получаем ln(30)
  = 3,4, что можно представить как:
</p>

<ul>
  <li>e<sup>x</sup> = рост</li>

  <li>e<sup>3,4</sup> = 30</li>
</ul>

<p>
  Интуитивно это значит «доходность по ставке 100% за 3,4 года — это 30-кратный
  рост», что в виде уравнение можно представить как:
</p>

<ul>
  <li>e<sup>x</sup> = e<sup>ставка<strong>∙</strong>время</sup></li>

  <li>e<sup>100%∙3,4 года</sup> = 30</li>
</ul>

<p>
  Мы можем менять «ставку» и «время» как угодно пока произведение ставки и
  времени остается равным 3,4. Предположим, что мы хотим 30-кратного роста — как
  долго его ждать, если ставка доходности будет 5%?
</p>

<ul>
  <li>ln(30) = 3,4</li>

  <li>ставка ∙ время = 3,4</li>

  <li>0,05 ∙ время = 3,4</li>

  <li>время = 3,4 / 0,05 = 68 лет</li>
</ul>

<p>
  Интуитивно, я думаю «ln(30) = 3,4, поэтому при ставке 100% потребуется 3,4
  года. Если я удвою ставку, то сокращу необходимое время вдвое».
</p>

<ul>
  <li>100% на 3,4 года = 1,0 * 3,4 = 3,4</li>

  <li>
    200% на 1,7 года = 2,0 * 1,7 = 3,4 [ставка 200% сокращает время вдвое]
  </li>

  <li>50% на 6,8 лет = 0,5 * 6,8 = 3,4 [ставка 50% увеличивает время вдвое]</li>

  <li>5% на 68 лет = 0,05 * 68 = 3,4 [ставка 5% увеличивает время в 20 раз]</li>
</ul>

<p>
  Круто, да? Натуральный логарифм можно использовать
  <strong>с любой процентной ставкой или временем</strong>, если результат их
  умножения одинаковый. Меняйте переменные как хотите.
</p>

<h2>Отличный пример: правило 72</h2>

<p>
  Правило 72-х — это простой способ вычислить время, необходимое для того, чтобы
  удвоить ваши деньги. Мы выведем его уравнение и, еще лучше, поймем его
  интуитивно.
</p>

<p>
  Сколько времени потребуется, чтобы удвоить ваши деньги при процентной ставке
  100%, начисляемой ежегодно?
</p>

<p>
  <strong>Упс</strong>. Мы использовали натуральный логарифм для
  <strong>непрерывного</strong> роста, но теперь речь пошла про
  <strong>годовую</strong> ставку. Не испортит ли это нашу формулу? Да,
  испортит, но при <strong>разумных процентных ставках</strong>, таких как 5%,
  6% или даже 15%, нет большой разницы между ежегодно начисляемыми процентами и
  полностью непрерывными. Так что грубая формула работает… грубо, и мы
  притворимся, что получаем полностью непрерывный процент.
</p>

<p>
  Тогда вопрос упрощается: за сколько времени можно удвоить вложение при ставке
  100% годовых? ln(2) = 0,693. Потребуется 0,693 единицы времени (в этом случае
  лет), чтобы удвоить ваши деньги с непрерывным начислением сложных процентов по
  ставке 100%.
</p>

<p>Хорошо, а что, если ставка у нас не 100%, а 5% или 10%?</p>

<p>Все просто. Пока ставка * время = 0,693, мы удваиваем наши деньги за:</p>

<ul>
  <li>ставка ∙ время = 0,693</li>

  <li>время = 0,693 / ставка</li>
</ul>

<p>
  Итак, если бы ставка была 10%, удвоение капитала заняло бы 0,693 / 0,10 = 6,93
  года.
</p>

<p>
  Для упрощения умножим всё на 100, чтобы можно было говорить о 10, а не о 0,10:
</p>

<ul>
  <li>
    время на удвоение = 69,3 / ставка (здесь ставка уже указывается в процентных
    пунктах).
  </li>
</ul>

<p>
  Время на удвоение при ставке 5% составляет 69,3 / 5 или 13,86 лет. Однако 69,3
  — не самое делимое число. Давайте выберем ближайшего соседа, 72, его можно
  разделить на 2, 3, 4, 6, 8 и многие другие числа.
</p>

<ul>
  <li>время на удвоение = 72 / ставка</li>
</ul>

<p>Что и является правилом 72! Изи бризи.</p>

<p>
  Если хотите найти время утроения, надо использовать ln(3) ≈ 109,8 и получится
</p>

<ul>
  <li>время на утроение = 110 / ставка</li>
</ul>

<p>
  Это еще одно полезное практическое правило. Правило 72 полезно для процентных
  ставок, роста населения, бактериальных культур и всего, что растет
  экспоненциально.
</p>

<h2>Приложение: натуральный логарифм числа <em>e</em></h2>

<p>Быстрая задачка: Чему равен ln(e)?</p>

<ul>
  <li>
    Робот-математик скажет: поскольку они определены как обратные функции,
    очевидно, что ln(e) = 1.
  </li>

  <li>
    Человек с интуицией: ln(e) — это количество времени, необходимое для
    получения «<em>е</em>» единиц роста (около 2,718). Но
    <em>e</em> — это величина роста за <strong>1 единицу времени</strong>,
    поэтому ln(e) = 1.
  </li>
</ul>

<p>Включайте интуицию.</p>
